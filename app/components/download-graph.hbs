<div local-class="toggle-stacked">
  <span local-class="toggle-stacked-label">Display as </span>
  <Dropdown as |dd|>
    <dd.Trigger local-class="trigger">
      <span local-class="trigger-label">
        {{#if this.stacked}}
          Stacked
        {{else}}
          Unstacked
        {{/if}}
      </span>
    </dd.Trigger>
    <dd.Menu as |menu|>
      <menu.Item>
        <button
          type="button"
          local-class="dropdown-button"
          {{on "click" this.setStacked}}
        >
          Stacked
        </button>
      </menu.Item>
      <menu.Item>
        <button
          type="button"
          local-class="dropdown-button"
          {{on "click" this.setUnstacked}}
        >
          Unstacked
        </button>
      </menu.Item>
    </dd.Menu>
  </Dropdown>
</div>
<div
  local-class="wrapper"
  data-test-download-graph
  ...attributes
  {{did-insert this.loadChartJs}}
>
  {{#if this.chartjs.loadTask.isRunning}}
    <LoadingSpinner local-class="spinner" data-test-spinner />
  {{else if this.chartjs.loadTask.lastSuccessful.value}}
    <canvas
      {{did-insert this.createChart}}
      {{did-update this.updateChart @data}}
      {{will-destroy this.destroyChart}}
    />
  {{else}}
    <div local-class="error" data-test-error>
      <p>Sorry, there was a problem loading the graphing code.</p>
      <button
        type="button"
        data-test-reload
        {{on "click" this.reloadPage}}
      >
        Try again
      </button>
    </div>
  {{/if}}
</div>